{% extends "::base.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets
        "bundles/imperivsite/css/style.css"
        "bundles/imperivsite/css/magnific-popup.css"
    filter="yui_css, cssrewrite"%}
        <link href="{{ asset_url }}" type="text/css" rel="stylesheet" />
    {% endstylesheets %}
    <style>
        .embed-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            max-width: 100%;
        }
        .embed-container iframe, .embed-container object, .embed-container embed {
            position: absolute;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
        }
        img { width: 100%; }
        body { background-image: url('http://fc07.deviantart.net/fs70/f/2013/174/3/e/recycled_texture_background_by_sandeep_m-d6aeau9.jpg'); }
    </style>
    <script src="{{ asset("bundles/imperivsite/js/modernizr.js") }}" type="text/javascript"></script>
{% endblock stylesheets %}

{% block title %}
    Video editing
{% endblock title %}

{% block content %}
    <div class="container-fluid">
        <div class="col-md-9">
            <table class="table">
                <tbody>
                <tr>
                    {% for video in videos %}
                        <td class="video embed-container">
                            <div class="viewport">
                                <a class="image-link" href="//vimeo.com/{{ video.video.providerReference }}">
                                    <span class="dark-background">{{ video.video.name }}</span>
                                    {% thumbnail video.video, 'big' %}
                                </a>
                            </div>
                        </td>

                        {% if loop.index%3 == 0 %}
                            </tr><tr>
                        {% endif %}
                    {% endfor %}
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-3"></div>
    </div>

{% endblock content %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts
        "bundles/imperivsite/js/touch.js"
        "bundles/imperivsite/js/jquery.magnific-popup.js"
    filter="yui_js" %}
        <script src="{{ asset_url }}" type="text/javascript"></script>
    {% endjavascripts %}
    <script>
        $(document).ready(function() {
            $('.image-link').magnificPopup({type:'iframe', pattern: 'vimeo'});
            $('.viewport').mouseenter(function(e) {
                $(this).children('a').children('img').animate({ height: '299', left: '0', top: '0', width: '450'}, 100);
                $(this).children('a').children('span').fadeIn(200);
            }).mouseleave(function(e) {
                $(this).children('a').children('img').animate({ height: '332', left: '-20', top: '-20', width: '500'}, 100);
                $(this).children('a').children('span').fadeOut(200);
            });
        });
    </script>
{% endblock javascripts %}